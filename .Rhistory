dates <- as.Date(as.character(dates), "%Y%m$d")
dates <- as.Date(as.character(dates), "%Y%m%d")
head(x1)
head(dates)
hist(dates[negative], "month")
str(site0)
intersect(site0, site1)
both <- intersect(site0, site1)
both
head(pm0)
cnt0 <- subset(pm0, State.Code == 36 & county.site %in% both)
cnt1 <- subset(pm1, State.Code == 36 & county.site %in% both)
sapply(split(cnt0, cnt0$county.site), nrow)
sapply(split(cnt1, cnt1$county.site), nrow)
pm0sub <- subset(cnt0, County.Code == 63 & Site.ID == 2008)
pm1sub <- subset(cnt1, County.Code == 63 & Site.ID == 2008)
x0sub <- pm0sub$Sample.Value
x1sub <- pm1sub$Sample.Value
dates0 <- as.Date(as.character(pm0sub$Date), "%Y%m%d")
dates1 <- as.Date(as.character(pm1sub$Date), "%Y%m%d")
par(mfrow = c(1, 2))
par(mfrow = c(1, 2), mar = c(4, 4, 2, 1))
plot(dates0, x0sub, pch = 20)
abline(h = meadian(x0sub), lwd = 2, na.rm = TRUE)
abline(h = median(x0sub), lwd = 2, na.rm = TRUE)
abline(h = median(x0sub, na.rm = TRUE), lwd = 2)
plot(dates1, x1sub, pch = 20)
abline(h = median(x1sub, na.rm = TRUE), lwd = 2)
rng <- range(x0sub, x1sub, na.rm = TRUE)
rng
mn0 <- with(pm0, tapply(Sample.Value, State.Code, mean, na.rm = TRUE))
str(mn0)
mn1 <- with(pm1, tapply(Sample.Value, State.Code, mean, na.rm = TRUE))
str(mn1)
summary(mn0)
summary(mn1)
d0 <- data.frame(names(mn0), mn0)
d0 <- data.frame(names(mn0), mean = mn0)
d0 <- data.frame(state = names(mn0), mean = mn0)
d1 <- data.frame(state = names(mn1), mean = mn1)
mrg <- merge(d0, d1, by = "state")
dim(mrg)
head(mrg)
with(mrg, plot)
with(mrg, plot(rep(1, 52), mrg[, 2], xlim = c(.5, 2.5)))
with(mrg, points(rep(2,52), mrg[, 3]))
segments(rep(1999, 52), mrg[, 2], rep(2012, 52), mrg[,3])
segments(rep(1, 52), mrg[, 2], rep(2, 52), mrg[, 3])
mrg[mrg$mean.x < mrg$mean.y,]
bye
setwd("/Users/harridw/Development/Coursera/Course5/Course-5-Storm-Data")
ipak <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE)
sapply(pkg, require, character.only = TRUE)
}
### Package Usage
packages <- c("plyr", "dplyr", "data.table", "dtplyr", "lubridate", "ggplot2", "scales",
"reshape2", "knitr", "R.cache", "stringr", "gtools", "quantreg")
ipak(packages)
StormData <- read.csv("repdata-data-StormData.csv.bz2", header = TRUE, sep = ",",
quote = "\"", dec = ".")
StormData$BGN_DATE <- as.Date(StormData$BGN_DATE, "%m/%d/%Y")
StormData$BGN_YEAR <- format(StormData$BGN_DATE, "%Y")
StormData$hour <- as.numeric(substr(StormData$BGN_TIME, 1, 2))
StormData$minute <- substr(StormData$BGN_TIME, 3, 4)
StormData$ampm <- ifelse(StormData$hour > 12, "PM", "AM")
StormData$hour <- ifelse(StormData$hour > 12, StormData$hour - 12,
ifelse(StormData$hour < 1, 12, StormData$hour))
StormData$hour <- substr(paste("00", StormData$hour, sep = ""),
min(length(StormData$hour)+1,3),min(length(StormData$hour)+2, 4))
StormData$BGN_TIME <- paste(StormData$hour, ":", StormData$minute, " ",
StormData$ampm, sep = "")
subStormData <- select(StormData, REFNUM, BGN_YEAR, BGN_DATE, BGN_TIME, TIME_ZONE,
STATE, COUNTYNAME, LATITUDE, LONGITUDE, EVTYPE, F, MAG,
FATALITIES, INJURIES, PROPDMG, PROPDMGEXP, CROPDMG, CROPDMGEXP)
subStormData <- subset(subStormData, BGN_YEAR > "1989")
subStormData <- subStormData[order(subStormData$STATE, subStormData$COUNTYNAME,
subStormData$EVTYPE, subStormData$BGN_DATE),]
View(subStormData)
subStormData$PROPDMG <- subStormData$PROPDMG * ifelse(subStormData$PROPDMGEXP
%in% c("h","H"), 100,
ifelse(subStormData$PROPDMGEXP %in% c("k", "K"), 1000,
ifelse(subStormData$PROPDMGEXP %in% c("m", "M"), 1000000,
ifelse(subStormData$PROPDMGEXP %in% c("b", "B"), 1000000000, 1))))
subStormData$CROPDMG <- subStormData$CROPDMG * ifelse(subStormData$CROPDMGEXP
%in% c("h","H"), 100,
ifelse(subStormData$CROPDMGEXP %in% c("k", "K"), 1000,
ifelse(subStormData$CROPDMGEXP %in% c("m", "M"), 1000000,
ifelse(subStormData$CROPDMGEXP %in% c("b", "B"), 1000000000, 1))))
subStormData$ECONOMIC <- subStormData$PROPDMG + subStormData$CROPDMG
subStormData <- select(subStormData, -c(PROPDMGEXP, CROPDMGEXP))
View(subStormData)
View(subStormData)
View(subStormData)
unique(subStormData$EVTYPE)
events <- unique(subStormData$EVTYPE)
events <- as.data.frame(unique(subStormData$EVTYPE))
View(events)
length(unique(subStormData$EVTYPE))
rm events
rm(events)
?grepl
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE, "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE, "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE, "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE, "Avalanche",
ifelese(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE, "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE, "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE, "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE, "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE, "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE, "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE, "Thunderstorm Wind",
"Other Event"))))))))))))))))))))))))
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE, "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE, "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE, "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE, "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE, "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE, "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE, "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE, "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE, "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE, "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE, "Thunderstorm Wind",
"Other Event"))))))))))))))))))))))))
View(subStormData)
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE), "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE), "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE), "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE), "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE, "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
"Other Event")))))))))))))))
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE), "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE), "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE), "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE), "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
"Other Event")))))))))))))
View(subStormData)
event1 <- subset(subStormData, EVENT_TYPE == "Other Event")
unique(event1$EVTYPE)
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE), "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE), "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE), "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE), "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "HAIL",
ifelse(grepl("EXTREME COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("EXTREME WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("FOG", subStormDat$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("FREEZ", subStormData$EVTYPE,
ignore.case = TRUE), "Freezing Fog",
"Dense Fogh"),
ifelse(grepl("FLOOD", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("LAKE", subStormData$EVTYPE,
ignore.case = TRUE), "Lakeshore Flood",
ifelse(grepl("FLASH", subStormData$EVTYPE,
ignore.case = TRUE), "Flash Flood",
"Flood")),
ifelse(grepl("FIRE", subStormData$EVTYPE,
ignore.case = TRUE), "Wildfire",
"Other Event")))))))))))))))))))))
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE), "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE), "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE), "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE), "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "HAIL",
ifelse(grepl("EXTREME COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("EXTREME WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("FOG", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("FREEZ", subStormData$EVTYPE,
ignore.case = TRUE), "Freezing Fog",
"Dense Fogh"),
ifelse(grepl("FLOOD", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("LAKE", subStormData$EVTYPE,
ignore.case = TRUE), "Lakeshore Flood",
ifelse(grepl("FLASH", subStormData$EVTYPE,
ignore.case = TRUE), "Flash Flood",
"Flood")),
ifelse(grepl("FIRE", subStormData$EVTYPE,
ignore.case = TRUE), "Wildfire",
"Other Event")))))))))))))))))))))
event1 <- subset(subStormData, EVENT_TYPE == "Other Event")
unique(event1$EVTYPE)
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE), "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE), "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE), "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE), "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "HAIL",
ifelse(grepl("EXTREME COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("EXTREME WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("FOG", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("FREEZ", subStormData$EVTYPE,
ignore.case = TRUE), "Freezing Fog",
"Dense Fog"),
ifelse(grepl("FLOOD", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("LAKE", subStormData$EVTYPE,
ignore.case = TRUE), "Lakeshore Flood",
ifelse(grepl("FLASH", subStormData$EVTYPE,
ignore.case = TRUE), "Flash Flood",
"Flood")),
ifelse(grepl("FIRE", subStormData$EVTYPE,
ignore.case = TRUE), "Wildfire",
ifelse(grepl("DROUGHT", subStormData$EVTYPE,
ignore.case = TRUE), "Drought",
ifelse(grepl("DRY", subStormData$EVTYPE,
ignore.case = TRUE), "Drought",
ifelse(grepl("HEAT", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("EXCESSIVE", subStormData$EVTYPE,
ignore.case = TRUE), "Excessive Heat",
"Heat"),
ifelse(grepl("LIGHTNING", subStormData$EVTYPE,
ignore.case = TRUE), "Lightning",
ifelse(grepl("SNOW", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("LAKE", subStormData$EVTYPE,
ignore.case = TRUE), "Lake-effect Snow",
ifelse(grepl("HEAVY", subStormData$EVTYPE,
ignore.case = TRUE), "Heavy Snow",
ifelse(grepl("SLEET", subStormData$EVTYPE,
ignore.case = TRUE), "Winter Weather",
ifelse(grepl("ICE", subStormData$EVTYPE,
ignore.case = TRUE), "Winter Weather",
ifelse(grepl("RAIN", subStormData$EVTYPE,
ignore.case = TRUE), "Winter Weather",
"Winter Storm"))))),
"Other Event"))))))))))))))))))))))))))
event1 <- subset(subStormData, EVENT_TYPE == "Other Event")
unique(event1$EVTYPE)
subStormData$EVENT_TYPE <- ifelse(grepl("TORNADO", subStormData$EVTYPE,
ignore.case = TRUE), "Tornado",
ifelse(grepl("TYPHOON", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane(Typhoon)",
ifelse(grepl("HURRICAN", subStormData$EVTYPE,
ignore.case = TRUE), "Hurricane",
ifelse(grepl("TSUNAMI", subStormData$EVTYPE,
ignore.case = TRUE), "Tsunami",
ifelse(grepl("FUNNEL", subStormData$EVTYPE,
ignore.case = TRUE), "Funnel Cloud",
ifelse(grepl("AVALANCHE", subStormData$EVTYPE,
ignore.case = TRUE), "Avalanche",
ifelse(grepl("BLIZZARD", subStormData$EVTYPE,
ignore.case = TRUE), "Blizzard",
ifelse(grepl("MARINE HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Hail",
ifelse(grepl("MARINE HIGH WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine High Wind",
ifelse(grepl("MARINE STRONG WIND", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Strong Wind",
ifelse(grepl("MARUNE THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Marine Thunderstorm Wind",
ifelse(grepl("THUNDERSTORM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("TSTM", subStormData$EVTYPE,
ignore.case = TRUE), "Thunderstorm Wind",
ifelse(grepl("HAIL", subStormData$EVTYPE,
ignore.case = TRUE), "HAIL",
ifelse(grepl("EXTREME COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("EXTREME WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Extreme Cold / Wind Chill",
ifelse(grepl("COLD", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("WIND CHILL", subStormData$EVTYPE,
ignore.case = TRUE), "Cold / Wind Chill",
ifelse(grepl("FOG", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("FREEZ", subStormData$EVTYPE,
ignore.case = TRUE), "Freezing Fog",
"Dense Fog"),
ifelse(grepl("FLOOD", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("LAKE", subStormData$EVTYPE,
ignore.case = TRUE), "Lakeshore Flood",
ifelse(grepl("FLASH", subStormData$EVTYPE,
ignore.case = TRUE), "Flash Flood",
ifelse(grepl("COASTAL", subStormData$EVTYPE,
ignore.case = TRUE), "Coastal Flood",
ifelse(grepl("SHORE", subStormData$EVTYPE,
ignore.case = TRUE), "Coastal Flood",
"Flood")))),
ifelse(grepl("FIRE", subStormData$EVTYPE,
ignore.case = TRUE), "Wildfire",
ifelse(grepl("DROUGHT", subStormData$EVTYPE,
ignore.case = TRUE), "Drought",
ifelse(grepl("DRY", subStormData$EVTYPE,
ignore.case = TRUE), "Drought",
ifelse(grepl("HEAT", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("EXCESSIVE", subStormData$EVTYPE,
ignore.case = TRUE), "Excessive Heat",
"Heat"),
ifelse(grepl("LIGHTNING", subStormData$EVTYPE,
ignore.case = TRUE), "Lightning",
ifelse(grepl("SNOW", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("LAKE", subStormData$EVTYPE,
ignore.case = TRUE), "Lake-effect Snow",
ifelse(grepl("HEAVY", subStormData$EVTYPE,
ignore.case = TRUE), "Heavy Snow",
ifelse(grepl("SLEET", subStormData$EVTYPE,
ignore.case = TRUE), "Winter Weather",
ifelse(grepl("ICE", subStormData$EVTYPE,
ignore.case = TRUE), "Winter Weather",
ifelse(grepl("RAIN", subStormData$EVTYPE,
ignore.case = TRUE), "Winter Weather",
"Winter Storm"))))),
ifelse(grepl("HOT", subStormData$EVTYPE,
ignore.case = TRUE), "HEAT",
ifelse(grepl("DUST", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("DEVIL", subStormData$EVTYPE,
ignore.case = TRUE), "Dust Devil",
"Dust Storm"),
ifelse(grepl("FROST", subStormData$EVTYPE,
ignore.case = TRUE), "Frost / Freeze",
ifelse(grepl("FREEZE", subStormData$EVTYPE,
ignore.case = TRUE), "Frost / Freeze",
ifelse(grepl("ICE ROADS", subStormData$EVTYPE,
ignore.case = TRUE), "Frost / Freeze",
ifelse(grepl("SLEET", subStormData$EVTYPE,
ignore.case = TRUE), "Sleet",
ifelse(grepl("VOLCANIC", subStormData$EVTYPE,
ignore.case = TRUE), "Volcanic Ash",
ifelse(grepl("RAIN", subStormData$EVTYPE,
ignore.case = TRUE), "Heavy Rain",
ifelse(grepl("WET", subStormData$EVTYPE,
ignore.case = TRUE), "Heavy Rain",
ifelse(grepl("MICROBURST", subStormData$EVTYPE,
ignore.case = TRUE), "Strong Wind",
ifelse(grepl("Wind", subStormData$EVTYPE,
ignore.case = TRUE),
ifelse(grepl("HIGH", subStormData$EVTYPE,
ignore.case = TRUE), "High Wind",
ifelse(grepl("STRONG", subStormData$EVTYPE,
ignore.case = TRUE), "Strong Wind",
"High Wind")),
ifelse(grepl("PRECIPITATION", subStormData$EVTYPE,
ignore.case = TRUE), "Heavy Rain",
ifelse(grepl("FLD", subStormData$EVTYPE,
ignore.case = TRUE), "Flood",
"Other Event")))))))))))))))))))))))))))))))))))))))
event1 <- subset(subStormData, EVENT_TYPE == "Other Event")
length(unique(subStormData$EVENT_TYPE))
